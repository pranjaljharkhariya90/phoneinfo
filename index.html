<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Scanner</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; background: #f0f2f5; margin: 0; }
        .card { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; max-width: 400px; width: 90%; }
        button { background: #007bff; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 1rem; cursor: pointer; transition: 0.3s; }
        button:hover { background: #0056b3; }
        .result { margin-top: 20px; text-align: left; display: none; border-top: 1px solid #eee; padding-top: 20px; }
        .item { margin-bottom: 10px; }
        .label { font-weight: bold; color: #555; }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; color: white; font-size: 0.9rem; margin-top: 5px; }
    </style>
</head>
<body>

<div class="card">
    <h2>Device Info Tool</h2>
    <p>Click below to identify your smartphone specs.</p>
    <button onclick="identifyDevice()">Scan My Device</button>

    <div id="result" class="result">
        <div class="item"><span class="label">Brand:</span> <span id="brand">Detecting...</span></div>
        <div class="item"><span class="label">Model:</span> <span id="model">Detecting...</span></div>
        <div class="item"><span class="label">Platform:</span> <span id="platform">Detecting...</span></div>
        <div class="item">
            <span class="label">Estimated Budget:</span><br>
            <div id="budget" class="badge">Checking...</div>
        </div>
    </div>
</div>

<script>
async function identifyDevice() {
    const resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';

    let brand = "Unknown";
    let model = "Generic Device";
    let platform = navigator.platform;

    // 1. Try modern User-Agent Client Hints (Best for Chrome/Android)
    if (navigator.userAgentData && navigator.userAgentData.getHighEntropyValues) {
        try {
            const hints = await navigator.userAgentData.getHighEntropyValues(["model", "platform", "platformVersion"]);
            brand = navigator.userAgentData.brands[0].brand;
            model = hints.model || "Unknown Model";
            platform = hints.platform;
        } catch (e) { console.log("Hints failed"); }
    } else {
        // 2. Fallback to parsing User Agent string
        const ua = navigator.userAgent;
        if (ua.match(/iPhone/i)) {
            brand = "Apple";
            model = "iPhone"; // Exact iPhone models are hidden by Apple for privacy
        } else if (ua.match(/Samsung/i)) {
            brand = "Samsung";
        }
    }

    document.getElementById('brand').innerText = brand;
    document.getElementById('model').innerText = model;
    document.getElementById('platform').innerText = platform;

    // 3. Logic to "Guess" Budget Range
    // Since there's no "price" API, we categorize based on common model names/platforms
    const budgetEl = document.getElementById('budget');
    let priceCategory = "Mid-Range";
    let color = "#6c757d";

    const modelName = model.toLowerCase();
    const isIOS = /iPhone|iPad|Mac/.test(ua);

    if (isIOS || modelName.includes('ultra') || modelName.includes('fold') || modelName.includes('pixel 8') || modelName.includes('pixel 9')) {
        priceCategory = "Premium / Flagship";
        color = "#28a745";
    } else if (modelName.includes('lite') || modelName.includes('redmi') || modelName.includes('galaxy a')) {
        priceCategory = "Budget Friendly";
        color = "#ffc107";
    } else {
        priceCategory = "Mid-Range / Standard";
        color = "#17a2b8";
    }

    budgetEl.innerText = priceCategory;
    budgetEl.style.backgroundColor = color;
}
</script>

</body>
</html>
